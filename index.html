<!DOCTYPE html><html><head>    <meta charset="UTF-8">    <style>        :root {            --primary-color: #2E5984;            --secondary-color: #7EC8E3;            --background: #f5f5f5;        }        body {            background: var(--background);            display: flex;            flex-direction: column;            align-items: center;            min-height: 100vh;            margin: 0;            padding: 30px;            font-family: 'Microsoft YaHei', sans-serif;        }        #card-container {            width: 400px;            background: white;            border-radius: 15px;            box-shadow: 0 5px 15px rgba(0,0,0,0.1);            padding: 30px;            margin: 20px 0;            text-align: center;        }        #pinyin-display {            font-size: 1.5em;            color: #666;            margin-bottom: 15px;            min-height: 1.2em;            transition: opacity 0.3s;        }        #vocab-display {            font-size: 3.5em;            color: var(--primary-color);            margin: 30px 0;            min-height: 120px;            display: flex;            align-items: center;            justify-content: center;            transition: opacity 0.3s;        }        .controls {            display: flex;            gap: 15px;            justify-content: center;            margin-top: 20px;            position: relative;        }        button {            padding: 12px 25px;            background: var(--primary-color);            color: white;            border: none;            border-radius: 8px;            cursor: pointer;            transition: all 0.3s;        }        button:hover {            opacity: 0.9;            transform: translateY(-2px);        }        #toggle-pinyin {            background: #4CAF50;            margin-left: 10px;        }        #toggle-pinyin.active {            background: #45a049;            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);        }        .custom-select {            position: relative;        }        .dropdown-menu {            display: none;            position: absolute;            top: 100%;            left: 0;            width: 220px;            max-height: 300px;            overflow-y: auto;            background: white;            border: 2px solid var(--primary-color);            border-radius: 8px;            box-shadow: 0 5px 15px rgba(0,0,0,0.1);            z-index: 100;            margin-top: 10px;            padding: 10px;        }        .checkbox-item {            display: flex;            align-items: center;            padding: 8px;            border-radius: 4px;            transition: background 0.2s;        }        .checkbox-item:hover {            background: #f0f8ff;        }        .checkbox-item input {            margin-right: 10px;        }    </style></head><body>    <div id="card-container">        <div id="pinyin-display"></div>        <div id="vocab-display"></div>        <div class="controls">            <div class="custom-select">                <button onclick="toggleDropdown()">???? ?</button>                <div class="dropdown-menu" id="lesson-menu">                    <div class="checkbox-item">                        <input type="checkbox" id="lesson1" value="1">                        <label for="lesson1">?1??Greetings</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson2" value="2">                        <label for="lesson2">?2??Family</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson3" value="3">                        <label for="lesson3">?3??Dates and Time</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson4" value="4">                        <label for="lesson4">?4??Hobbies</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson5" value="5">                        <label for="lesson5">?5??Visiting Friends</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson6" value="6">                        <label for="lesson6">?6??Making Appointments</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson7" value="7">                        <label for="lesson7">?7??Studying Chinese</label>                    </div>                    <div class="checkbox-item">                        <input type="checkbox" id="lesson8" value="8">                        <label for="lesson8">?8??School Life</label>                    </div>                </div>            </div>            <button onclick="showPrevious()">? ???</button>            <button onclick="showNext()">??? ?</button>            <button id="toggle-pinyin" onclick="togglePinyin()">??</button>        </div>    </div>    <script>        // ?????????????        const lessons = {            1: [                {word: '?', pinyin: 'n?'}, {word: '?', pinyin: 'h?o'}, {word: '?', pinyin: 'q?ng'},                {word: '?', pinyin: 'wn'}, {word: '??', pinyin: 'gu“x“ng'}, {word: '?', pinyin: 'w?'},                {word: '?', pinyin: 'ne'}, {word: '??', pinyin: 'xi?oji?'}, {word: '?', pinyin: 'jiˆo'},                {word: '??', pinyin: 'shŽnme'}, {word: '??', pinyin: 'm’ngzi'}, {word: '??', pinyin: 'xi?nsheng'},                {word: '?', pinyin: 'L?'}, {word: '?', pinyin: 'W‡ng'}            ],            2: [                {word: '?', pinyin: 'nˆ'}, {word: '?', pinyin: 'de'}, {word: '??', pinyin: 'zhˆopiˆn'},                {word: '?', pinyin: 'zh'}, {word: '??', pinyin: 'bˆba'}, {word: '??', pinyin: 'm?ma'},                {word: '?', pinyin: 'g'}, {word: '?', pinyin: 'n?'}, {word: '??', pinyin: 'h‡izi'},                {word: '?', pinyin: 'shŽi'}, {word: '?', pinyin: 't?'}, {word: '??', pinyin: 'ji?jie'},                {word: '?', pinyin: 'n‡n'}, {word: '??', pinyin: 'd“di'}, {word: '?', pinyin: 't?'},                {word: '??', pinyin: 'dˆg?'}, {word: '??', pinyin: 'Žrzi'}, {word: '?', pinyin: 'y?u'},                {word: '??', pinyin: 'n?Žr'}, {word: '?', pinyin: 'mŽi'}, {word: '???', pinyin: 'G?o WŽnzh?ng'}            ],            3: [                {word: '??', pinyin: 'ji?yu'}, {word: '?', pinyin: 'yu'}, {word: '??', pinyin: 'sh’r'},                {word: '?', pinyin: 'hˆo'}, {word: '??', pinyin: 'x?ngq?'}, {word: '???', pinyin: 'x?ngq?s“'},                {word: '?', pinyin: 'ti?n'}, {word: '??', pinyin: 'sh?ngr“'}, {word: '??', pinyin: 'j?nni‡n'},                {word: '?', pinyin: 'dˆ'}, {word: '??', pinyin: 'sh’b?'}, {word: '?', pinyin: 'su“'},                {word: '?', pinyin: 'ch?'}, {word: '?', pinyin: 'fˆn'}, {word: '???', pinyin: 'z?nmeyˆng'},                {word: '?...?', pinyin: 'tˆi...le'}, {word: '??', pinyin: 'xixie'}, {word: '??', pinyin: 'x?huan'},                {word: '?', pinyin: 'cˆi'}, {word: '??', pinyin: 'h‡ishi'}, {word: '??', pinyin: 'k?sh“'},                {word: '??', pinyin: 'w?men'}, {word: '?', pinyin: 'di?n'}, {word: '?', pinyin: 'bˆn'},                {word: '??', pinyin: 'w?nshang'}, {word: '?', pinyin: 'jiˆn'}, {word: '??', pinyin: 'zˆijiˆn'},                {word: '??', pinyin: 'Y?nggu—'}            ],            // ????????????...        };        let showPinyin = false;        let currentVocabs = [];        let history = [];        let currentIndex = -1;        // ??????        function toggleDropdown() {            const menu = document.getElementById('lesson-menu');            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';        }        // ????????        document.addEventListener('click', (e) => {            if (!e.target.closest('.custom-select')) {                document.getElementById('lesson-menu').style.display = 'none';            }        });        // ???????        document.querySelectorAll('.checkbox-item input').forEach(checkbox => {            checkbox.addEventListener('change', updateSelectedLessons);        });        // ??????        function togglePinyin() {            showPinyin = !showPinyin;            document.getElementById('toggle-pinyin').classList.toggle('active');            if(currentIndex >= 0) updateCard(history[currentIndex]);        }        // ???????        function updateSelectedLessons() {            const selected = Array.from(document.querySelectorAll('.checkbox-item input:checked'))                                 .map(cb => cb.value);            currentVocabs = selected.reduce((acc, lesson) =>                 acc.concat(lessons[lesson]), []);            shuffleArray(currentVocabs);            history = [];            currentIndex = -1;            if(currentVocabs.length > 0) {                showPinyin = false;                document.getElementById('toggle-pinyin').classList.remove('active');                showNext();            }        }        // ????        function shuffleArray(array) {            for (let i = array.length - 1; i > 0; i--) {                const j = Math.floor(Math.random() * (i + 1));                [array[i], array[j]] = [array[j], array[i]];            }        }        // ??????        function showNext() {            if(currentIndex < history.length - 1) {                currentIndex++;            } else {                if(currentVocabs.length === 0) return;                const nextIndex = Math.floor(Math.random() * currentVocabs.length);                history.push(currentVocabs[nextIndex]);                currentIndex = history.length - 1;            }            updateCard(history[currentIndex]);        }        // ??????        function showPrevious() {            if(currentIndex > 0) {                currentIndex--;                updateCard(history[currentIndex]);            }        }        // ??????        function updateCard(item) {            const vocabDisplay = document.getElementById('vocab-display');            const pinyinDisplay = document.getElementById('pinyin-display');                        vocabDisplay.style.opacity = 0;            pinyinDisplay.style.opacity = 0;            setTimeout(() => {                vocabDisplay.textContent = item.word;                pinyinDisplay.textContent = showPinyin ? item.pinyin : '';                vocabDisplay.style.opacity = 1;                pinyinDisplay.style.opacity = showPinyin ? 1 : 0;            }, 200);        }    </script></body></html>